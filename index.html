<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tu Wrapped Personalizado</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Arial', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        height: 100vh;
        overflow: hidden;
        color: white;
      }

      .container {
        position: relative;
        width: 100%;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .story {
        width: 90%;
        max-width: 400px;
        height: 80vh;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border-radius: 20px;
        padding: 30px;
        text-align: center;
        position: relative;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.2);
        opacity: 0;
        transform: translateX(100px);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        display: none;
      }

      .story.active {
        opacity: 1;
        transform: translateX(0);
        display: flex;
        flex-direction: column;
      }

      .story.prev {
        opacity: 0;
        transform: translateX(-100px);
      }

      .progress-bar {
        position: absolute;
        top: 20px;
        left: 20px;
        right: 20px;
        height: 4px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 2px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #ff6b6b, #ffd93d);
        border-radius: 2px;
        transition: width 0.3s ease;
      }

      .story-content {
        margin-top: 60px;
        height: calc(100% - 120px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .story-title {
        font-size: 2.2rem;
        font-weight: bold;
        margin-bottom: 20px;
        background: linear-gradient(45deg, #ff6b6b, #ffd93d);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
      }

      .story-subtitle {
        font-size: 1.1rem;
        opacity: 0.9;
        margin-bottom: 30px;
        line-height: 1.4;
      }

      .music-player {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        width: 100%;
        position: relative;
      }

      .song-info {
        margin-bottom: 15px;
      }

      .song-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .song-artist {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      .player-controls {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
      }

      .play-button {
        background: linear-gradient(45deg, #ff6b6b, #ffd93d);
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .play-button:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
      }

      .play-button.playing {
        background: linear-gradient(45deg, #ff4757, #ffa502);
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }
        50% {
          box-shadow: 0 6px 25px rgba(255, 107, 107, 0.8);
        }
        100% {
          box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }
      }

      .volume-control {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 10px;
      }

      .volume-slider {
        width: 100px;
        height: 4px;
        border-radius: 2px;
        background: rgba(255, 255, 255, 0.3);
        outline: none;
        -webkit-appearance: none;
      }

      .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: linear-gradient(45deg, #ff6b6b, #ffd93d);
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .volume-slider::-moz-range-thumb {
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: linear-gradient(45deg, #ff6b6b, #ffd93d);
        cursor: pointer;
        border: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .audio-progress {
        width: 100%;
        height: 4px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 2px;
        margin: 10px 0;
        position: relative;
        cursor: pointer;
      }

      .audio-progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #ff6b6b, #ffd93d);
        border-radius: 2px;
        width: 0%;
        transition: width 0.1s ease;
      }

      .time-display {
        display: flex;
        justify-content: space-between;
        font-size: 0.8rem;
        opacity: 0.7;
        margin-top: 5px;
      }

      .navigation {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 15px;
      }

      .nav-btn {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        color: white;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
      }

      .nav-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
      }

      .nav-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .stats {
        display: flex;
        justify-content: space-around;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .stat-item {
        text-align: center;
        margin: 10px;
      }

      .stat-number {
        font-size: 2rem;
        font-weight: bold;
        background: linear-gradient(45deg, #ff6b6b, #ffd93d);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .stat-label {
        font-size: 0.8rem;
        opacity: 0.8;
      }

      .floating-hearts {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
      }

      .heart {
        position: absolute;
        font-size: 1.5rem;
        animation: float 3s ease-in-out infinite;
        opacity: 0;
      }

      @keyframes float {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-100px) rotate(360deg);
          opacity: 0;
        }
      }

      .tap-hint {
        position: absolute;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 0.9rem;
        opacity: 0.7;
        animation: pulse-hint 2s infinite;
      }

      @keyframes pulse-hint {
        0%,
        100% {
          opacity: 0.7;
        }
        50% {
          opacity: 1;
        }
      }

      .loading-indicator {
        display: none;
        font-size: 0.8rem;
        opacity: 0.7;
        margin-top: 5px;
      }

      .loading-indicator.show {
        display: block;
      }

      /* Responsive */
      @media (max-width: 480px) {
        .story {
          width: 95%;
          height: 85vh;
          padding: 20px;
        }

        .story-title {
          font-size: 1.8rem;
        }

        .story-subtitle {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="floating-hearts" id="hearts"></div>

      <!-- Audio element oculto para reproducir música -->
      <audio id="audioPlayer" preload="none"></audio>

      <!-- Slide 0: Intro -->
      <div class="story active" data-story="0">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 6%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🎵 Bienvenido</div>
          <div class="story-subtitle">
            Prepárate para un viaje musical único
          </div>
          <div class="story-subtitle">
            15 canciones que marcaron momentos especiales
          </div>
          <div class="stats">
            <div class="stat-item">
              <div class="stat-number">✨</div>
              <div class="stat-label">Experiencia única</div>
            </div>
          </div>
        </div>
        <div class="tap-hint">Desliza o usa las flechas →</div>
      </div>

      <!-- Slide 1: Amigos con Derechos -->
      <div class="story" data-story="1">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 12%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">💕 #1</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Amigos con Derechos</div>
              <div class="song-artist">Reik, Maluma</div>
            </div>
            <div class="player-controls">
              <button
                class="play-button"
                onclick="toggleMusic('amigos-con-derechos')"
              >
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div
                class="audio-progress-fill"
                id="progress-amigos-con-derechos"
              ></div>
            </div>
            <div class="time-display">
              <span id="current-time-amigos-con-derechos">0:00</span>
              <span id="duration-amigos-con-derechos">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-amigos-con-derechos">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Cuando las líneas se difuminan y las emociones se complican
          </div>
        </div>
      </div>

      <!-- Slide 2: Je ne t'aime plus -->
      <div class="story" data-story="2">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 18%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🇫🇷 #2</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Je ne t'aime plus</div>
              <div class="song-artist">Manu Chao</div>
            </div>
            <div class="player-controls">
              <button
                class="play-button"
                onclick="toggleMusic('je-ne-taime-plus')"
              >
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div
                class="audio-progress-fill"
                id="progress-je-ne-taime-plus"
              ></div>
            </div>
            <div class="time-display">
              <span id="current-time-je-ne-taime-plus">0:00</span>
              <span id="duration-je-ne-taime-plus">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-je-ne-taime-plus">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">Melodías francesas que tocan el alma</div>
        </div>
      </div>

      <!-- Slide 3: Wicked Game -->
      <div class="story" data-story="3">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 24%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🖤 #3</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Wicked Game</div>
              <div class="song-artist">Chris Isaak</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('wicked-game')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-wicked-game"></div>
            </div>
            <div class="time-display">
              <span id="current-time-wicked-game">0:00</span>
              <span id="duration-wicked-game">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-wicked-game">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Un clásico atemporal lleno de pasión y melancolía
          </div>
        </div>
      </div>

      <!-- Continúo con las demás canciones... -->
      <!-- Slide 4: Nada y Nadie -->
      <div class="story" data-story="4">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 30%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">💔 #4</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Nada y Nadie</div>
              <div class="song-artist">Banda MS</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('nada-y-nadie')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-nada-y-nadie"></div>
            </div>
            <div class="time-display">
              <span id="current-time-nada-y-nadie">0:00</span>
              <span id="duration-nada-y-nadie">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-nada-y-nadie">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Cuando el corazón habla más fuerte que la razón
          </div>
        </div>
      </div>

      <!-- Slide 5: Neo Surf -->
      <div class="story" data-story="5">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 36%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🏄‍♂️ #5</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Neo Surf</div>
              <div class="song-artist">Bad Bunny</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('neo-surf')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-neo-surf"></div>
            </div>
            <div class="time-display">
              <span id="current-time-neo-surf">0:00</span>
              <span id="duration-neo-surf">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-neo-surf">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Vibes de verano y libertad en cada nota
          </div>
        </div>
      </div>

      <!-- Slide 6: Radio - Lana del Rey -->
      <div class="story" data-story="6">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 42%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">📻 #6</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Radio</div>
              <div class="song-artist">Lana Del Rey</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('radio-ldr')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-radio-ldr"></div>
            </div>
            <div class="time-display">
              <span id="current-time-radio-ldr">0:00</span>
              <span id="duration-radio-ldr">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-radio-ldr">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            La reina del dream pop con su magia cinematográfica
          </div>
        </div>
      </div>

      <!-- Slide 7: Después de la Playa -->
      <div class="story" data-story="7">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 48%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🏖️ #7</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Después de la Playa</div>
              <div class="song-artist">Bad Bunny</div>
            </div>
            <div class="player-controls">
              <button
                class="play-button"
                onclick="toggleMusic('despues-playa')"
              >
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div
                class="audio-progress-fill"
                id="progress-despues-playa"
              ></div>
            </div>
            <div class="time-display">
              <span id="current-time-despues-playa">0:00</span>
              <span id="duration-despues-playa">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-despues-playa">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Recuerdos de arena, sol y momentos perfectos
          </div>
        </div>
      </div>

      <!-- Slide 8: Narcotic -->
      <div class="story" data-story="8">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 54%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">💊 #8</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Narcotic</div>
              <div class="song-artist">Liquido</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('narcotic')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-narcotic"></div>
            </div>
            <div class="time-display">
              <span id="current-time-narcotic">0:00</span>
              <span id="duration-narcotic">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-narcotic">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Ritmos adictivos que no puedes sacar de tu cabeza
          </div>
        </div>
      </div>

      <!-- Slide 9: Cairo -->
      <div class="story" data-story="9">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 60%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🏺 #9</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Cairo</div>
              <div class="song-artist">Karol G</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('cairo')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-cairo"></div>
            </div>
            <div class="time-display">
              <span id="current-time-cairo">0:00</span>
              <span id="duration-cairo">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-cairo">Cargando...</div>
          </div>
          <div class="story-subtitle">
            Exotismo y poder femenino en cada compás
          </div>
        </div>
      </div>

      <!-- Slide 10: Beso -->
      <div class="story" data-story="10">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 66%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">💋 #10</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Beso</div>
              <div class="song-artist">Rosalía, Rauw Alejandro</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('beso')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-beso"></div>
            </div>
            <div class="time-display">
              <span id="current-time-beso">0:00</span>
              <span id="duration-beso">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-beso">Cargando...</div>
          </div>
          <div class="story-subtitle">
            Química pura entre dos artistas increíbles
          </div>
        </div>
      </div>

      <!-- Slide 11: I Feel It Coming -->
      <div class="story" data-story="11">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 72%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🌙 #11</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">I Feel It Coming</div>
              <div class="song-artist">The Weeknd ft. Daft Punk</div>
            </div>
            <div class="player-controls">
              <button
                class="play-button"
                onclick="toggleMusic('i-feel-it-coming')"
              >
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div
                class="audio-progress-fill"
                id="progress-i-feel-it-coming"
              ></div>
            </div>
            <div class="time-display">
              <span id="current-time-i-feel-it-coming">0:00</span>
              <span id="duration-i-feel-it-coming">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-i-feel-it-coming">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Electrónica y soul en perfecta armonía nocturna
          </div>
        </div>
      </div>

      <!-- Slide 12: La Vuelta al Mundo -->
      <div class="story" data-story="12">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 78%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🌍 #12</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">La Vuelta al Mundo</div>
              <div class="song-artist">Calle 13</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('vuelta-mundo')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-vuelta-mundo"></div>
            </div>
            <div class="time-display">
              <span id="current-time-vuelta-mundo">0:00</span>
              <span id="duration-vuelta-mundo">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-vuelta-mundo">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">Aventuras y sueños sin fronteras</div>
        </div>
      </div>

      <!-- Slide 13: Baile Inolvidable -->
      <div class="story" data-story="13">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 84%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">💃 #13</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Baile Inolvidable</div>
              <div class="song-artist">Feid, Karol G</div>
            </div>
            <div class="player-controls">
              <button
                class="play-button"
                onclick="toggleMusic('baile-inolvidable')"
              >
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div
                class="audio-progress-fill"
                id="progress-baile-inolvidable"
              ></div>
            </div>
            <div class="time-display">
              <span id="current-time-baile-inolvidable">0:00</span>
              <span id="duration-baile-inolvidable">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-baile-inolvidable">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Noches que se quedan grabadas para siempre
          </div>
        </div>
      </div>

      <!-- Slide 14: Stand by Me -->
      <div class="story" data-story="14">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 90%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🤝 #14</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Stand by Me</div>
              <div class="song-artist">Ben E. King</div>
            </div>
            <div class="player-controls">
              <button class="play-button" onclick="toggleMusic('stand-by-me')">
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div class="audio-progress-fill" id="progress-stand-by-me"></div>
            </div>
            <div class="time-display">
              <span id="current-time-stand-by-me">0:00</span>
              <span id="duration-stand-by-me">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-stand-by-me">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">
            Un himno eterno sobre la lealtad y el apoyo incondicional
          </div>
        </div>
      </div>

      <!-- Slide 15: Say Yes to Heaven -->
      <div class="story" data-story="15">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 96%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">☁️ #15</div>
          <div class="music-player">
            <div class="song-info">
              <div class="song-title">Say Yes to Heaven</div>
              <div class="song-artist">Lana Del Rey</div>
            </div>
            <div class="player-controls">
              <button
                class="play-button"
                onclick="toggleMusic('say-yes-heaven')"
              >
                ▶
              </button>
            </div>
            <div class="audio-progress" onclick="seekTo(event)">
              <div
                class="audio-progress-fill"
                id="progress-say-yes-heaven"
              ></div>
            </div>
            <div class="time-display">
              <span id="current-time-say-yes-heaven">0:00</span>
              <span id="duration-say-yes-heaven">0:00</span>
            </div>
            <div class="volume-control">
              <span>🔊</span>
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="70"
                onchange="setVolume(this.value)"
              />
            </div>
            <div class="loading-indicator" id="loading-say-yes-heaven">
              Cargando...
            </div>
          </div>
          <div class="story-subtitle">Cerrando con broche de oro celestial</div>
        </div>
      </div>

      <!-- Slide Final -->
      <div class="story" data-story="16">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 100%"></div>
        </div>
        <div class="story-content">
          <div class="story-title">🎁 Final</div>
          <div class="story-subtitle">15 canciones, infinitos recuerdos</div>
          <div class="story-subtitle">
            Cada melodía cuenta una historia única de tu vida
          </div>
          <div class="stats">
            <div class="stat-item">
              <div class="stat-number">🎵</div>
              <div class="stat-label">Música</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">💝</div>
              <div class="stat-label">Recuerdos</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">✨</div>
              <div class="stat-label">Magia</div>
            </div>
          </div>
          <div class="story-subtitle">
            Gracias por permitir que la música sea parte de tu historia
          </div>
        </div>
      </div>

      <div class="navigation">
        <button class="nav-btn" onclick="previousStory()" id="prevBtn">
          ←
        </button>
        <button class="nav-btn" onclick="nextStory()" id="nextBtn">→</button>
      </div>
    </div>

    <script>
      let currentStory = 0;
      const stories = document.querySelectorAll('.story');
      const totalStories = stories.length;
      const audioPlayer = document.getElementById('audioPlayer');
      let currentSong = null;
      let isPlaying = false;

      // Base de datos de canciones - Aquí puedes agregar URLs reales
      const songDatabase = {
        narcotic: {
          url: './music/narcotic.mp3',
          title: 'Narcotic',
          artist: '',
        },
        'amigos-con-derechos': {
          url: 'https://drive.google.com/file/d/19JERhXjZsAXS3hvvk9b9uHBxHei_JuEj/view?usp=sharing',
          title: 'Amigos con Derechos',
          artist: '',
        },
        radio: {
          url: 'https://drive.google.com/file/d/1l9oGb9p_YZlBO0RpIBWMyN-dXBW_bWaB/view?usp=drive_link',
          title: 'Radio',
          artist: '',
        },
        'say-yes-to-heaven': {
          url: 'https://drive.google.com/file/d/19MSwAoRELjtsCqX3HUeiPyp46uugTyMS/view?usp=drive_link',
          title: 'Say Yes to Heaven',
          artist: '',
        },
        'stand-by-me': {
          url: 'https://drive.google.com/file/d/1T7tuKGaeW_pcbMAZJ7ehg3RuQlE2AEym/view?usp=drive_link',
          title: 'Stand By Me',
          artist: '',
        },
        'la-vuelta-al-mundo': {
          url: 'https://drive.google.com/file/d/1VwRKxZLigMl0f7doYYCW00W8ceGX9OHf/view?usp=drive_link',
          title: 'La Vuelta al Mundo',
          artist: '',
        },
        'je-ne-t-aime-plus': {
          url: 'https://drive.google.com/file/d/1xxyS2CKS0Uq8DGQzKSRkAu_oCl7NJERC/view?usp=drive_link',
          title: "Je ne t'aime plus",
          artist: '',
        },
        'neo-surf': {
          url: 'https://drive.google.com/file/d/1B0gzYO-JpMjrbneJYMCYaxhhBGgPgl7S/view?usp=drive_link',
          title: 'Neo Surf',
          artist: '',
        },
        'despues-de-la-playa': {
          url: 'https://drive.google.com/file/d/10NHpygE_Zi8jtQ4lBKopn7BxJRNTHaRq/view?usp=sharing',
          title: 'Despues de la Playa',
          artist: '',
        },
        'nada-y-nadie': {
          url: 'https://drive.google.com/file/d/1p1QnXMsRb_JB4i7wTrbFV1BUFWl0JXU9/view?usp=drive_link',
          title: 'Nada y Nadie',
          artist: '',
        },
        cairo: {
          url: 'https://drive.google.com/file/d/10NHpygE_Zi8jtQ4lBKopn7BxJRNTHaRq/view?usp=sharing',
          title: 'Cairo',
          artist: '',
        },
        beso: {
          url: 'https://drive.google.com/file/d/1jbu3zZ0CS8mAUuQnKtD_Lf17mgjQIE2d/view?usp=sharing',
          title: 'Beso',
          artist: '',
        },
        'i-feel-it-coming': {
          url: './music/i-feel-it-coming.mp3',
          title: 'I Feel It Coming',
          artist: '',
        },
        'wicked-game': {
          url: 'https://drive.google.com/file/d/1WqpK7XbkLQuk7385fL6V1ouVzZoCghlG/view?usp=drive_link',
          title: 'Wicked Game',
          artist: '',
        },
        'baile-inolvidable': {
          url: 'https://drive.google.com/file/d/1VjBbrjelFn7GxM3qStzPNcXElC8log7G/view?usp=sharing',
          title: 'Baile Inolvidable',
          artist: '',
        },
      };

      function updateStory() {
        stories.forEach((story, index) => {
          story.classList.remove('active', 'prev');
          if (index === currentStory) {
            story.classList.add('active');
          } else if (index < currentStory) {
            story.classList.add('prev');
          }
        });

        document.getElementById('prevBtn').disabled = currentStory === 0;
        document.getElementById('nextBtn').disabled =
          currentStory === totalStories - 1;

        if (currentStory > 0) {
          createFloatingHearts();
        }
      }

      function toggleMusic(songId) {
        const playButton = event.target;
        const loadingIndicator = document.getElementById(`loading-${songId}`);

        if (currentSong === songId && isPlaying) {
          // Pausar canción actual
          audioPlayer.pause();
          isPlaying = false;
          playButton.textContent = '▶';
          playButton.classList.remove('playing');
        } else {
          // Cambiar canción o reproducir
          if (songDatabase[songId]) {
            // Pausar canción anterior si existe
            if (isPlaying) {
              audioPlayer.pause();
              // Resetear botón anterior
              const prevButton = document.querySelector('.play-button.playing');
              if (prevButton) {
                prevButton.textContent = '▶';
                prevButton.classList.remove('playing');
              }
            }

            // Mostrar indicador de carga
            loadingIndicator.classList.add('show');

            // Configurar nueva canción
            currentSong = songId;
            audioPlayer.src = songDatabase[songId].url;

            audioPlayer.load();

            const playPromise = audioPlayer.play();

            if (playPromise !== undefined) {
              playPromise
                .then(() => {
                  isPlaying = true;
                  playButton.textContent = '⏸';
                  playButton.classList.add('playing');
                  loadingIndicator.classList.remove('show');
                })
                .catch((error) => {
                  console.log('Error al reproducir:', error);
                  loadingIndicator.classList.remove('show');
                  alert(
                    'No se pudo reproducir la canción. Verifica la URL del audio.'
                  );
                });
            }
          } else {
            alert(
              `🎵 Canción: ${songId.replace(
                /-/g,
                ' '
              )}\n\nAgrega la URL del audio en songDatabase para reproducir la canción real.`
            );
          }
        }
      }

      function setVolume(value) {
        audioPlayer.volume = value / 100;
      }

      function seekTo(event) {
        if (audioPlayer.duration) {
          const rect = event.target.getBoundingClientRect();
          const clickX = event.clientX - rect.left;
          const percentage = clickX / rect.width;
          audioPlayer.currentTime = percentage * audioPlayer.duration;
        }
      }

      function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs.toString().padStart(2, '0')}`;
      }

      function updateProgress() {
        if (audioPlayer.duration && currentSong) {
          const percentage =
            (audioPlayer.currentTime / audioPlayer.duration) * 100;
          const progressFill = document.getElementById(
            `progress-${currentSong}`
          );
          const currentTimeSpan = document.getElementById(
            `current-time-${currentSong}`
          );
          const durationSpan = document.getElementById(
            `duration-${currentSong}`
          );

          if (progressFill) progressFill.style.width = percentage + '%';
          if (currentTimeSpan)
            currentTimeSpan.textContent = formatTime(audioPlayer.currentTime);
          if (durationSpan)
            durationSpan.textContent = formatTime(audioPlayer.duration);
        }
      }

      // Event listeners para el reproductor
      audioPlayer.addEventListener('timeupdate', updateProgress);
      audioPlayer.addEventListener('loadedmetadata', updateProgress);
      audioPlayer.addEventListener('ended', () => {
        isPlaying = false;
        const playButton = document.querySelector('.play-button.playing');
        if (playButton) {
          playButton.textContent = '▶';
          playButton.classList.remove('playing');
        }
      });

      function nextStory() {
        if (currentStory < totalStories - 1) {
          currentStory++;
          updateStory();
        }
      }

      function previousStory() {
        if (currentStory > 0) {
          currentStory--;
          updateStory();
        }
      }

      function createFloatingHearts() {
        const heartsContainer = document.getElementById('hearts');
        const hearts = [
          '💕',
          '💖',
          '💗',
          '💙',
          '💜',
          '🧡',
          '💛',
          '💚',
          '🎵',
          '🎶',
          '✨',
        ];

        for (let i = 0; i < 3; i++) {
          setTimeout(() => {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent =
              hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 2 + 's';
            heartsContainer.appendChild(heart);

            setTimeout(() => {
              heart.remove();
            }, 3000);
          }, i * 500);
        }
      }

      // Navegación con teclado
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') {
          previousStory();
        } else if (e.key === 'ArrowRight') {
          nextStory();
        } else if (e.key === ' ') {
          e.preventDefault();
          if (currentSong && audioPlayer.src) {
            const playButton =
              document.querySelector('.play-button.playing') ||
              document.querySelector(`[onclick*="${currentSong}"]`);
            if (playButton) playButton.click();
          }
        }
      });

      // Navegación táctil
      let startX = 0;
      let startY = 0;
      document.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
      });

      document.addEventListener('touchend', (e) => {
        const endX = e.changedTouches[0].clientX;
        const endY = e.changedTouches[0].clientY;
        const diffX = startX - endX;
        const diffY = Math.abs(startY - endY);

        if (Math.abs(diffX) > 50 && diffY < 100) {
          if (diffX > 0) {
            nextStory();
          } else {
            previousStory();
          }
        }
      });

      // Prevenir scroll en móvil
      document.addEventListener(
        'touchmove',
        (e) => {
          e.preventDefault();
        },
        { passive: false }
      );

      // Inicializar volumen
      audioPlayer.volume = 0.7;

      // Inicializar
      updateStory();
    </script>
  </body>
</html>
